// Process endpoint options
if let options = options {
    // Query options
    {% for param in op.optionalQueryParams %}
    if let {{ param.paramName }} = options.{{ param.paramName }} {
        queryParams.append("{{ param.key }}", {{ param.value}})
    }
    {% endfor %}

    // Header options
    {% for header in op.optionalHeaders %}
    if let {{ header.paramName }} = options.{{ header.paramName }} {
        headers["{{ header.key }}"] = {{ header.value}}
    }
    {% endfor %}

}
