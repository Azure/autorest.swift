// Process endpoint options
if let options = options {
    // Query options
    {% for param in op.params.query.optional %}
    {% if param.path == "options." %}
    {% include "OperationOptionalQueryParamSnippet.stencil" %}
    {% endif %}
    {% endfor %}
    // Header options
    {% for header in op.params.header.optional %}
    if let {{ header.key }} = options.{{ header.key }} {
        headers["{{ header.key }}"] = {{ header.value}}
    }
    {% endfor %}
}
