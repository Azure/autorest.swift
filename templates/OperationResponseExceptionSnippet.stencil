{% for exception in op.exceptions %}
    {% if exception.hasDefaultException == false %}
    if [
    {% for statusCode in exception.statusCodes %}
      {{ statusCode }},
    {% endfor  %}
    ].contains(statusCode)
    {
        do {
            let decoder = JSONDecoder()
            let decoded = try decoder.decode({{ exception.objectType }}.self, from: data)
            dispatchQueue.async {
                completionHandler(.failure(AzureError.service("{{ exception.description }}", decoded)), httpResponse)
            }
        } catch {
            dispatchQueue.async {
                completionHandler(.failure(AzureError.sdk("Decoding error.", error)), httpResponse)
            }
        }
    }
    {% endif %}
{% endfor %}
